SET(TARGET_NAME "BPMDetect")

FIND_PATH(SOUNDTOUCH_INCLUDE_DIR SoundTouch.h PATH_SUFFIXES "soundtouch")
FIND_LIBRARY(SOUNDTOUCH_LIBRARY NAMES "soundtouch" "SoundTouch")
INCLUDE(FindPackageHandleStandardArgs)
FIND_PACKAGE_HANDLE_STANDARD_ARGS(SOUNDTOUCH DEFAULT_MSG SOUNDTOUCH_LIBRARY SOUNDTOUCH_INCLUDE_DIR)

IF(SUPPORT_AUDIO AND SOUNDTOUCH_FOUND)
	FILE(GLOB SRC *.cpp)
	FILE(GLOB HDR *.h)

	INCLUDE_DIRECTORIES(${SOUNDTOUCH_INCLUDE_DIR})

	ADD_EXECUTABLE(${TARGET_NAME} ${SRC} ${HDR})
	TARGET_LINK_LIBRARIES(${TARGET_NAME} ${SOUNDTOUCH_LIBRARY})
	SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES FOLDER "${FOLDERNAME}")
	MESSAGE("[X] ${TARGET_NAME}")
ELSE()
	MESSAGE("[ ] ${TARGET_NAME}")
ENDIF()
