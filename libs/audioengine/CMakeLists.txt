IF(SUPPORT_AUDIO AND (USE_OPENAL OR USE_PORTAUDIO))
	FILE(GLOB SRC *.cpp *.c)
	FILE(GLOB HDR *.hpp *.h)

	ADD_LIBRARY(audioengine ${SRC} ${HDR})
	ADD_DEPENDENCIES(audioengine mediacycle)
	TARGET_LINK_LIBRARIES(audioengine mediacycle)
	IF ( NOT APPLE )
		TARGET_LINK_LIBRARIES(audioengine pthread)
		IF ( WIN32 )
			TARGET_LINK_LIBRARIES(audioengine ws2_32)
		ENDIF ( WIN32 )
	ELSE ( NOT APPLE )
		TARGET_LINK_LIBRARIES(audioengine)
	ENDIF ( NOT APPLE )

	IF(USE_OPENAL)
		TARGET_LINK_LIBRARIES(audioengine mediacycle ${OPENAL_LIBRARIES})
	ENDIF()
	IF(USE_PORTAUDIO)
		TARGET_LINK_LIBRARIES(audioengine mediacycle ${PORTAUDIO_LIBRARIES} pthread)
	ENDIF()
	IF(USE_OPENAL)
		MESSAGE("[X] audioengine (with OpenAL)")
	ELSEIF(USE_PORTAUDIO)
		MESSAGE("[X] audioengine (with PortAudio)")
	ENDIF()
ELSE()
	MESSAGE("[ ] audioengine")
ENDIF()
