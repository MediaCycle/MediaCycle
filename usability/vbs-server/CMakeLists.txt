# Developed by Klaus Schoeffmann for MMM 2013 VBS
SET(TARGET_NAME "vbs-server")
	add_custom_target (
		${TARGET_NAME} ALL
	)
	IF(Java_JAVAC_EXECUTABLE AND Java_JAR_EXECUTABLE)
		add_custom_command(
    		TARGET ${TARGET_NAME}
   			POST_BUILD
			COMMAND ${Java_JAVAC_EXECUTABLE} -classpath ${CMAKE_CURRENT_SOURCE_DIR} -sourcepath ${CMAKE_CURRENT_SOURCE_DIR} -d ${CMAKE_CURRENT_BINARY_DIR} ${CMAKE_CURRENT_SOURCE_DIR}/*.java
			COMMAND ${Java_JAR_EXECUTABLE} cfvm ${CMAKE_CURRENT_BINARY_DIR}/${TARGET_NAME}.jar ${CMAKE_CURRENT_SOURCE_DIR}/Manifest.mf -C ${CMAKE_CURRENT_BINARY_DIR} *.class
		)
	SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES FOLDER "${TARGET_NAME}")
	MESSAGE("[X] ${TARGET_NAME}")
ELSE()
	MESSAGE("[ ] ${TARGET_NAME}")
ENDIF()
