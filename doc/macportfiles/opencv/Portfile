# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id: Portfile 82208 2011-08-10 14:20:26Z ryandesign@macports.org $

PortSystem                      1.0
PortGroup                       cmake 1.0

name                            opencv
version                         2.3.1
set branch                      ${version}
categories                      graphics science
platforms                       darwin
maintainers                     nomaintainer

description                     Intel(R) Open Source Computer Vision Library

long_description                opencv is a library that is mainly aimed at real time \
                                computer vision. Some example areas would be \
                                Human-Computer Interaction (HCI), Object Identification, \
                                Segmentation and Recognition, Face Recognition, Gesture \
                                Recognition, Motion Tracking, Ego Motion, Motion \
                                Understanding, Structure From Motion (SFM), and Mobile \
                                Robotics.

homepage                        http://opencv.willowgarage.com/wiki/
master_sites                    sourceforge:project/opencvlibrary/opencv-unix/${branch}
use_bzip2                       yes
distname                        OpenCV-${version}

checksums                       md5     827c9f8aa14384c531c73aa165f9b777 \
                                sha1    65ec38aaad6e98f19d3dc2d4f017ce1ef8cbcb1b \
                                rmd160  f53e4a144bffb643e957f844bc62aa83370dd39d

depends_build-append            port:pkgconfig

depends_lib-append              port:zlib \
                                port:bzip2 \
                                port:dirac \
                                port:faac \
                                port:faad2 \
                                port:lame \
                                port:schroedinger \
                                port:liboil \
                                port:libtheora \
                                port:libvorbis \
                                port:libogg \
                                port:x264 \
                                port:orc \
                                port:qt4-mac

configure.args-append           -DBUILD_NEW_PYTHON_SUPPORT=OFF \
                                -DBUILD_EXAMPLES=ON \
                                -DINSTALL_C_EXAMPLES=ON \
                                -DWITH_FFMPEG=OFF \
				-DWITH_QT=ON \
				-DWITH_OPENNI=ON

livecheck.type                  sourceforge
livecheck.name                  opencvlibrary
livecheck.regex                 /OpenCV-(\[0-9.\]+)${extract.suffix}
