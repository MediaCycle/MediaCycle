FILE(GLOB SRC *.cpp *.c)
FILE(GLOB HDR *.hpp *.h)

SET(PLUGIN_NAME "greta")

INCLUDE_DIRECTORIES( "/home/alexis/Downloads/Psyclone/cppair1.1.7.pbl.linux/AIR/include" )
INCLUDE_DIRECTORIES( "/home/alexis/Downloads/Psyclone/cppair1.1.7.pbl.linux/CoreLibrary/include" )

SET(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -D_GNU_SOURCE -D_REENTRANT -D_THREAD_SAFE")
SET(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} -D_GNU_SOURCE -D_REENTRANT -D_THREAD_SAFE -D Linux")

ADD_LIBRARY(${PLUGIN_NAME} SHARED ${SRC} ${HDR})
ADD_DEPENDENCIES(${PLUGIN_NAME} mediacycle)

SET_TARGET_PROPERTIES(${PLUGIN_NAME} PROPERTIES PREFIX "mc_")
#SET_TARGET_PROPERTIES(${PLUGIN_NAME} PROPERTIES SUFFIX ".mcp")
TARGET_LINK_LIBRARIES(${PLUGIN_NAME} mediacycle)
TARGET_LINK_LIBRARIES(${PLUGIN_NAME} AIR)
TARGET_LINK_LIBRARIES(${PLUGIN_NAME} CoreLibrary)
TARGET_LINK_LIBRARIES(${PLUGIN_NAME} pthread dl)

INSTALL(TARGETS ${PLUGIN_NAME} LIBRARY DESTINATION lib/${PROJECT_NAME})
