IF ( ARMADILLO_FOUND )
	FILE(GLOB SRC *.cpp *.c)
	FILE(GLOB HDR *.hpp *.h)

	SET(PLUGIN_NAME "visualisation")
	SET(TARGET_NAME "${PLUGIN_PREFIX}${PLUGIN_NAME}")

	INCLUDE_DIRECTORIES(. ../../core ../../armadillo ../../fftooura ../../tinyxml)

	ADD_LIBRARY(${TARGET_NAME} SHARED ${SRC} ${HDR})
	ADD_DEPENDENCIES(${TARGET_NAME} mediacycle armadillo-utils)
	SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES PREFIX ${PLUGIN_PREFIX})
	SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES OUTPUT_NAME ${PLUGIN_NAME})
	#SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES SUFFIX ${PLUGIN_SUFFIX})
	TARGET_LINK_LIBRARIES(${TARGET_NAME} ${ARMADILLO_LIBRARY})
	TARGET_LINK_LIBRARIES(${TARGET_NAME} mediacycle armadillo-utils atlas lapack)
	IF(SUPPORT_3DMODEL OR SUPPORT_IMAGE OR SUPPORT_VIDEO)
		TARGET_LINK_LIBRARIES(${TARGET_NAME} ${OPENSCENEGRAPH_CORE_LIBRARIES})
	ENDIF()
	#INSTALL(TARGETS ${TARGET_NAME} LIBRARY DESTINATION lib/${PROJECT_NAME})
ELSE ( ARMADILLO_FOUND )
	#MESSAGE ("Not building visualization plugins: armadillo with BLAS/LAPACK support required.")
	MESSAGE("[X] ${TARGET_NAME}")
ELSE()
	MESSAGE("[ ] ${TARGET_NAME}")
ENDIF()
