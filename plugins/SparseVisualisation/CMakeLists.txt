
	SET(PLUGIN_NAME "SparseVisualisation")
	SET(TARGET_NAME "${PLUGIN_PREFIX}${PLUGIN_NAME}")
IF(SUPPORT_TEXT)
FILE(GLOB SRC *.cpp *.c)
FILE(GLOB HDR *.hpp *.h)

ADD_LIBRARY(${TARGET_NAME} SHARED ${SRC} ${HDR})
ADD_DEPENDENCIES(${TARGET_NAME} mediacycle armadillo-utils SparseMatrix)
SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES PREFIX ${PLUGIN_PREFIX})
SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES OUTPUT_NAME ${PLUGIN_NAME})
#SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES SUFFIX ${PLUGIN_SUFFIX})
TARGET_LINK_LIBRARIES(${TARGET_NAME} ${ARMADILLO_LIBRARY})
IF(WIN32 OR MINGW)
	TARGET_LINK_LIBRARIES(${TARGET_NAME} mediacycle armadillo-utils SparseMatrix ${ATLAS_LIBRARY} ${LAPACK_LIBRARY})
ELSE()
	TARGET_LINK_LIBRARIES(${TARGET_NAME} mediacycle armadillo-utils atlas lapack SparseMatrix)
ENDIF()
IF(SUPPORT_3DMODEL OR SUPPORT_IMAGE OR SUPPORT_VIDEO)
	TARGET_LINK_LIBRARIES(${TARGET_NAME} ${OPENSCENEGRAPH_CORE_LIBRARIES})
ENDIF()
#INSTALL(TARGETS ${TARGET_NAME} LIBRARY DESTINATION lib/${PROJECT_NAME})
MESSAGE("[X] ${TARGET_NAME}")

ELSE(SUPPORT_TEXT)
	MESSAGE("[ ] ${TARGET_NAME}")

ENDIF(SUPPORT_TEXT)