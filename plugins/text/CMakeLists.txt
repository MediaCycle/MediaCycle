SET(PLUGIN_NAME "text")
SET(TARGET_NAME "${PLUGIN_PREFIX}${PLUGIN_NAME}")

IF(SUPPORT_TEXT)

	FILE(GLOB SRC *.cpp *.c)
	FILE(GLOB HDR *.hpp *.h)

	ADD_LIBRARY(${TARGET_NAME} SHARED ${SRC} ${HDR})
	ADD_DEPENDENCIES(${TARGET_NAME} mediacycle)

	SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES PREFIX ${PLUGIN_PREFIX})
	SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES OUTPUT_NAME ${PLUGIN_NAME})

	TARGET_LINK_LIBRARIES(${TARGET_NAME} mediacycle)
	TARGET_LINK_LIBRARIES(${TARGET_NAME} ${CLUCENE_LIBRARIES} textfeatures)
	INCLUDE_DIRECTORIES(. ../armadillo)

	#CF we need to be able to display images (library cover) for any media type
	#IF(SUPPORT_3DMODEL OR SUPPORT_IMAGE OR SUPPORT_VIDEO)
		TARGET_LINK_LIBRARIES(${TARGET_NAME} ${OPENSCENEGRAPH_CORE_LIBRARIES})
	#ENDIF()

#INSTALL(TARGETS textfeatures LIBRARY DESTINATION lib)
#INSTALL(FILES ${HDR} DESTINATION include/textfeatures)

	MESSAGE("[X] ${TARGET_NAME}")
ELSE(SUPPORT_TEXT)
	MESSAGE("[ ] ${TARGET_NAME}")

ENDIF(SUPPORT_TEXT)