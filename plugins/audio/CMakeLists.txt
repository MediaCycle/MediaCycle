SET(PLUGIN_NAME "audio")
SET(TARGET_NAME "${PLUGIN_PREFIX}${PLUGIN_NAME}")
IF(SUPPORT_AUDIO AND USE_AUDIOFEAT)

	FILE(GLOB SRC *.cpp *.c)
	FILE(GLOB HDR *.hpp *.h)

	IF(USE_YAAFE)
		SET(SRC "${SRC};${CMAKE_SOURCE_DIR}/3rdparty/yaafe/src_cpp/yaafe-io/io/FileUtils.cpp")
		SET(HDR "${HDR};${CMAKE_SOURCE_DIR}/3rdparty/yaafe/src_cpp/yaafe-io/io/FileUtils.h")
	ENDIF()

	ADD_LIBRARY(${TARGET_NAME} SHARED ${SRC} ${HDR})
	ADD_DEPENDENCIES(${TARGET_NAME} mediacycle armadillo-utils audiofeatures cwaves)

	SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES PREFIX ${PLUGIN_PREFIX})
	SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES OUTPUT_NAME ${PLUGIN_NAME})
	#SET_TARGET_PROPERTIES(${TARGET_NAME} PROPERTIES SUFFIX ${PLUGIN_SUFFIX})
	TARGET_LINK_LIBRARIES(${TARGET_NAME} mediacycle armadillo-utils audiofeatures cwaves)
	#INSTALL(TARGETS ${TARGET_NAME} LIBRARY DESTINATION lib/${PROJECT_NAME})
	IF(USE_YAAFE)
                target_link_libraries(${TARGET_NAME} yaafe-core yaafe-io yaafe-components ${ARGTABLE2_LIBRARY})
	ENDIF()
	MESSAGE("[X] ${TARGET_NAME}")
ELSE()
	MESSAGE("[ ] ${TARGET_NAME}")
ENDIF()
