SET(MEDIA_TYPE "audio")
SET(LIBRARY_NAME "mediacycle-audio-engine-stk")
SET(MC_3RDPARTIES "RtAudio;RtMidi;stk")
SET(MC_MEDIA_LIBS "${MEDIA_TYPE}-core")
list(APPEND 3RDPARTY_NAMES "libsndfile")
list(APPEND 3RDPARTY_LICENSES "LGPL or GPL")
list(APPEND 3RDPARTY_URLS "http://www.mega-nerd.com/libsndfile")
SET(WITH_QT4 ON)
IF(SUPPORT_AUDIO AND (NOT APPLE OR (COREAUDIO_FOUND AND COREFOUNDATION_FOUND)) AND SNDFILE_FOUND)
	INCLUDE (${CMAKE_SOURCE_DIR}/cmake/AddMediaCycleMediaLibrary.cmake)
        INCLUDE_DIRECTORIES(${STK_INCLUDE_DIRS})
	INCLUDE_DIRECTORIES(${CMAKE_SOURCE_DIR}/3rdparty/RtError)
	ADD_MC_MEDIA_LIBRARY(${LIBRARY_NAME})
        TARGET_LINK_LIBRARIES(${TARGET_NAME} ${SNDFILE_LIBRARIES})
        #TARGET_LINK_LIBRARIES(${TARGET_NAME} ${STK_LIBRARIES})
	#IF(APPLE)
	#	TARGET_LINK_LIBRARIES(${TARGET_NAME} ${COREFOUNDATION_LIBRARY} ${COREAUDIO_LIBRARY})
	#ENDIF()
	SET_TARGET_PROPERTIES(${LIBRARY_NAME} PROPERTIES FOLDER "${FOLDERNAME}")
	MESSAGE("[X] ${LIBRARY_NAME}")
ELSE()
	MESSAGE("[ ] ${LIBRARY_NAME}")
ENDIF()
